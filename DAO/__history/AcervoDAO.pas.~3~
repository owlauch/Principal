unit AcervoDAO;

interface
uses DataModule,AcervoModel,Dialogs;
  type
    TAcervoDao=class
     public
      procedure inserirAcervo(AcervoModel:TAcervoModel);
      procedure excluirAcervo(id : integer);
    end;
implementation

{ TAcervoDao }

procedure TAcervoDao.excluirAcervo(id: integer);
begin

end;

procedure TAcervoDao.inserirAcervo(AcervoModel: TAcervoModel);
begin
try
  DM.SQLQuery.Close;
  DM.SQLQuery.SQL.Text:='INSERT INTO acervo(titulo,qtdeexemplar,dataedicao,localedicao,isbn) VALUES(:titulo,:qtdeexemplar,:dataedicao,:localedicao,:isbn)';
  DM.SQLQuery.ParamByName('titulo').AsString:=AcervoModel.GetTitulo;
  DM.SQLQuery.ParamByName('qtdeexemplar').AsInteger:=AcervoModel.Getqtdeexemplar;
  DM.SQLQuery.ParamByName('dataedicao').AsDate:=AcervoModel.GetDataEdicao;
  DM.SQLQuery.ParamByName('localedicao').AsString:=AcervoModel.GetLocalEdicao;
  DM.SQLQuery.ParamByName('isbn').AsString:=AcervoModel.GetIsbn;
  DM.SQLQuery.ExecSQL;
  DM.ClientDataSet.Close;
  DM.ClientDataSet.Open;
  DM.ClientDataSet.Close;
  DM.ClientDataSet.Open;
  ShowMessageFmt('O Associado %S Foi Registrado com sucesso',[acervomodel.GetTitulo]);
finally

end;
end;

end.
