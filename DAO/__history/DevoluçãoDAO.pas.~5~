unit DevoluçãoDAO;

interface

uses DataModule,dialogs;
  type
    tDevolucaoDAO = class
      public
      procedure devolverArcevo(id :integer);
    end;

implementation

{ tDevolucaoDAO }

procedure tDevolucaoDAO.devolverArcevo(id: integer);
begin
  ShowMessageFmt('%d',[id]);
  DM.SQLQItemEmprestimo.Close;
  dm.SQLQItemEmprestimo.SQL.Text:='delete from itememprestimo where idemprestimo=:id';
  dm.SQLQItemEmprestimo.ParamByName('id').AsInteger:=id;
  dm.SQLQItemEmprestimo.ExecSQL;
  DM.ClDSitememprestimo.Close;
  DM.ClDSitememprestimo.Open;
  DM.ClDSitememprestimo.Close;
  DM.ClDSitememprestimo.Open;
  DM.CDSEmprestado.Close;
  DM.CDSEmprestado.open;
  DM.CDSEmprestado.Close;
  DM.CDSEmprestado.open;
end;

end.
