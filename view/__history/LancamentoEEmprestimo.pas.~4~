unit LancamentoEEmprestimo;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
  Dialogs, ComCtrls, StdCtrls, Buttons, ExtCtrls, DataModule;

type
  TLancamentoEmprestimo = class(TForm)
    GridPricipal: TGridPanel;
    Panel1: TPanel;
    GridPanel1: TGridPanel;
    Label1: TLabel;
    BAcervo: TSpeedButton;
    BAssociado: TSpeedButton;
    BVoltar: TSpeedButton;
    Panel2: TPanel;
    Label2: TLabel;
    ComboBox1: TComboBox;
    Label3: TLabel;
    DateTimePicker1: TDateTimePicker;
    Label4: TLabel;
    ComboBox2: TComboBox;
    procedure ComboBox1Change(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  LancamentoEmprestimo: TLancamentoEmprestimo;

implementation

{$R *.dfm}

procedure TLancamentoEmprestimo.ComboBox1Change(Sender: TObject);
var
  s: string;
  id: integer;
begin
  ComboBox2.Items.Clear;
  with DM.ClientDataSet3 do
  begin
    First;
    while not Eof do
    begin
      id := FieldByName('IDACERVO').AsInteger;
      s := FieldByName('TITULO').AsString;
      ComboBox2.Items.AddObject(s, TObject(id)); // typecast necessário
      Next;
    end;
  end;
end;

end.
