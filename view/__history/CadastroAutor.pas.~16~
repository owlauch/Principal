unit CadastroAutor;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
  Dialogs, Grids, DBGrids, StdCtrls, Buttons, ExtCtrls,DataModule;

type
  TAutor = class(TForm)
    GridPricipal: TGridPanel;
    PanelMenu: TPanel;
    GridPanel1: TGridPanel;
    Bgravar: TSpeedButton;
    BExcluir: TSpeedButton;
    SpeedButton4: TSpeedButton;
    PanelVisualEdicao: TPanel;
    GridPrincipalcadastro: TGridPanel;
    GridCadastro: TGridPanel;
    Pessoal: TGroupBox;
    GridPanelPessoal: TGridPanel;
    Nome: TLabel;
    DBGrid1: TDBGrid;
    GridPanelFiltro: TGridPanel;
    Label10: TLabel;
    EditPesquisar: TEdit;
    EditNome: TEdit;
    SpeedButton2: TSpeedButton;
    Panel1: TPanel;
    GridPanel2: TGridPanel;
    Label7: TLabel;
    BAcervo: TSpeedButton;
    BAssociado: TSpeedButton;
    BAutor: TSpeedButton;
    BEditora: TSpeedButton;
    BVoltar: TSpeedButton;
    procedure BgravarClick(Sender: TObject);
    procedure BExcluirClick(Sender: TObject);
    procedure BVoltarClick(Sender: TObject);
    procedure SpeedButton2Click(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  Autor: TAutor;

implementation

uses AutorDAO, AutorModel, CadastroPrincipal, Principal;

{$R *.dfm}

procedure TAutor.BExcluirClick(Sender: TObject);
var
 id : integer;
 AutorDao:TAutorDao;
begin
  id:=DBGrid1.Fields[0].AsInteger;
  autordao.excluirAutor(id);
end;

Procedure TAutor.BgravarClick(Sender: TObject);
var
autormodel:tAutorModel;
autorDAO:tAutorDAO;
begin
 autormodel:=TAutorModel.Create;
 autormodel.setNome(EditNome.Text);
 autordao.inserirAutor(autormodel);
 EditNome.Clear;
end;

procedure TAutor.BVoltarClick(Sender: TObject);
begin
  Close;
  Cadastro:=TCadastro.Create(self);
  Cadastro.Parent:=SDIAppForm;
  cadastro.Show;
end;

procedure TAutor.SpeedButton2Click(Sender: TObject);
begin
  EditNome.Clear;
  EditPesquisar.Clear;
end;

end.
