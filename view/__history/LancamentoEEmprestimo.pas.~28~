unit LancamentoEEmprestimo;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
  Dialogs, ComCtrls, StdCtrls, Buttons, ExtCtrls, DataModule, EmprestimoDAO,
  EmprestimoModel, AssociadoModel, Grids, DBGrids, ItemEmprestimoDAO;

type
  TLancamentoEmprestimo = class(TForm)
    GridPricipal: TGridPanel;
    PanelMenu: TPanel;
    GridPanel1: TGridPanel;
    Label1: TLabel;
    BAcervo: TSpeedButton;
    BAssociado: TSpeedButton;
    BVoltar: TSpeedButton;
    PanelSeleção: TPanel;
    GroupBoxSeleção: TGroupBox;
    GridPanelSelecao: TGridPanel;
    GridPanelSlcGeral: TGridPanel;
    GridPanelBotoes: TGridPanel;
    BGravar: TSpeedButton;
    Blimpar: TSpeedButton;
    DBGrid1: TDBGrid;
    DBGrid2: TDBGrid;
    Label2: TLabel;
    Label3: TLabel;
    DateTimePicker1: TDateTimePicker;

    procedure BGravarClick(Sender: TObject);

  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  LancamentoEmprestimo: TLancamentoEmprestimo;
  id,id2: integer;
  associado:TAssociadoModel;


implementation

{$R *.dfm}


procedure TLancamentoEmprestimo.BGravarClick(Sender: TObject);
  var
    id: integer;
    emprestimoDAO:Temprestimodao;
    emprestimoModel:TEmprestimoModel;
    AssociadoModel:TAssociadoModel;

begin
    emprestimoDao:=TemprestimoDao.Create;
    emprestimoModel:=TEmprestimoModel.Create;
    AssociadoModel:=TAssociadoModel.Create;
    id:=DBGrid1.Fields[0].AsInteger;
    AssociadoModel.SetId(id);
    emprestimoModel.SetAssociado(AssociadoModel);
    emprestimodao.inserirEmprestimo(emprestimoModel);
end;

end.
